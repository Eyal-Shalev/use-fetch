(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[0],{188:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(23),r=a.n(l),o=(a(98),a(99),a(9)),u=a(27),s=a(20),i=a(30),m=a(11),d=a(10),E=a(29),f="https://jsonplaceholder.typicode.com",b=function(e){return Object.entries(e).filter((function(e){var t=Object(d.a)(e,2);t[0];return null!==t[1]})).map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&")},p=Object(n.createContext)([]),v=function(e){var t=e.children,a=Object(m.a)(e,["children"]),c=function(){var e=Object(E.useJson)("".concat(f,"/users"),{},[]);return{users:e.value,loading:e.loading,exception:e.exception}}().users;return n.createElement(p.Provider,Object(i.a)({value:c},a),t)},h=Object(n.createContext)([]),O=function(e){var t=e.children,a=Object(m.a)(e,["children"]),c=function(e){var t={userId:e?e.id:null},a=Object(E.useJson)("".concat(f,"/posts?").concat(b(t)),{},[]);return{posts:a.value,loading:a.loading,exception:a.exception}}().posts;return n.createElement(h.Provider,Object(i.a)({value:c},a),t)},j=Object(n.createContext)([]),y=function(e){var t=e.children,a=Object(m.a)(e,["children"]),c=function(e){var t={userId:e?e.id:null},a=Object(E.useJson)("".concat(f,"/albums?").concat(b(t)),{},[]),n=a.value,c=Object(m.a)(a,["value"]);return Object(i.a)({albums:n},c)}().albums;return n.createElement(j.Provider,Object(i.a)({value:c},a),t)},g=function(e,t){var a={albumId:e?e.id:null,limit:"number"===typeof t?t:null},n=Object(E.useJson)("".concat(f,"/photos?").concat(b(a)),{},[]),c=n.value,l=Object(m.a)(n,["value"]);return Object(i.a)({photos:c},l)},k=Object(n.createContext)([]),x=function(e){var t=e.children,a=Object(m.a)(e,["children"]),c=g().photos;return n.createElement(k.Provider,Object(i.a)({value:c},a),t)},C=a(85),N=a.n(C),S=a(86),L=a.n(S),w=(a(184),a(32)),I=function(){var e=Object(E.useText)("https://raw.githubusercontent.com/Eyal-Shalev/use-fetch/master/README.md").value,t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current&&L.a.highlightAllUnder(t.current)}),[e,t]),c.a.createElement(w.a,null,c.a.createElement("div",{ref:t},c.a.createElement(N.a,{source:e})))},_=a(33),J=a(26),T=function(e){var t=e.as,a=Object(m.a)(e,["as"]),c=n.useContext(h);return a.className=a.className||"",a.className+=" posts",n.createElement(t,a,[n.createElement(_.a,{key:"nav",className:"flex-column",variant:"pills"},c.map((function(e){return n.createElement(s.LinkContainer,{key:e.id,to:"/demo/posts/".concat(e.id),activeClassName:"active"},n.createElement(J.a,{as:o.Link,to:"/demo/posts/".concat(e.id)},e.title))})))])},P=a(34),A=a(7),H=function(){var e=Object(n.useContext)(p);return c.a.createElement(P.a,null,e.map((function(e){return c.a.createElement(A.a,{key:e.id},c.a.createElement(A.a.Header,{as:"header"},c.a.createElement(A.a.Title,null,e.name),c.a.createElement(A.a.Subtitle,null,e.username)),c.a.createElement(A.a.Body,null,c.a.createElement("details",{style:{display:e.address?"block":"none"}},c.a.createElement("summary",null,"Address"),c.a.createElement("address",null,c.a.createElement("pre",null,JSON.stringify(e.address,null,"\t")))),c.a.createElement("div",{style:{display:e.phone?"block":"none"}},c.a.createElement("span",null,"Phone:")," ",c.a.createElement("a",{href:"tel:".concat(e.phone)},e.phone)),c.a.createElement("div",{style:{display:e.website?"block":"none"}},c.a.createElement("span",null,"Website:")," ",c.a.createElement("a",{href:e.website},e.website)),c.a.createElement("details",{style:{display:e.company?"block":"none"}},c.a.createElement("summary",null,"Company"),c.a.createElement("pre",null,JSON.stringify(e.company,null,"\t")))))})))},R=a(35),B=function(e){var t=e.album,a=Object(m.a)(e,["album"]),l=g(t,1).photos,r=Object(n.useContext)(p),u=Object(n.useState)(void 0),s=Object(d.a)(u,2),i=s[0],E=s[1];return Object(n.useEffect)((function(){E(r.find((function(e){return e.id===t.userId})))}),[r,t]),c.a.createElement(A.a,Object.assign({as:o.Link,to:"/demo/albums/".concat(t.id)},a),c.a.createElement(A.a.Header,null,c.a.createElement(A.a.Title,null,t.title),c.a.createElement(A.a.Subtitle,null,"Created by ",i?i.name:"")),l.length>0?c.a.createElement(R.a,{variant:"bottom",alt:l[0].title,src:l[0].thumbnailUrl}):"")},U=function(e){var t=Object(n.useContext)(j);return c.a.createElement(P.a,e,t.map((function(e){return c.a.createElement(B,{key:e.id,album:e})})))},F=a(92),M=a(54),D=a(56),z=a(53),G=a(89),W=a(88),q=a(18),K=a(39),Q=a(55),V=function(e){var t=Object(n.useContext)(j),a=Object(u.m)().id,l=Object(n.useState)(),r=Object(d.a)(l,2),o=r[0],s=r[1];Object(n.useEffect)((function(){a&&0!==t.length&&s(t.find((function(e){return e.id===parseInt(a)})))}),[a,t]),console.log({activeAlbum:o,id:a});var i=Object(n.useContext)(k),m=Object(n.useState)([]),E=Object(d.a)(m,2),f=E[0],b=E[1];Object(n.useEffect)((function(){a&&b(i.filter((function(e){return e.albumId===parseInt(a)})))}),[a,i]);var p=Object(n.useState)(0),v=Object(d.a)(p,2),h=v[0],O=v[1],y=Object(n.useReducer)((function(e,t){return{page:t,photos:f.slice(20*t,20*(t+1))}}),{photos:[],page:0}),g=Object(d.a)(y,2),x=g[0],C=g[1];Object(n.useEffect)((function(){C(0),O(Math.ceil(f.length/20))}),[f]);var N=Object(n.useState)(),S=Object(d.a)(N,2),L=S[0],w=S[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a,{as:"nav",className:"justify-content-center"},c.a.createElement(W.a,{size:"lg"},c.a.createElement(q.e,{disabled:0===x.page}),h<11&&Array.from({length:h},(function(e,t){return t})).map((function(e){return c.a.createElement(q.f,{key:e,active:x.page===e,onClick:function(){return C(e)}},e+1)})),c.a.createElement(q.d,{disabled:19===x.page}))),c.a.createElement(K.a,null,c.a.createElement(P.a,Object.assign({},e,{className:"fade ".concat(f.length>0?"show":"")}),x.photos.map((function(e){return c.a.createElement(A.a,{key:e.id,onClick:function(){return w(e)}},c.a.createElement(R.a,{variant:"top",src:e.thumbnailUrl}),c.a.createElement(A.a.ImgOverlay,null,c.a.createElement(A.a.Title,null,e.title)))})))),c.a.createElement(F.a,{dialogClassName:"modal-fluid",show:!!L,onHide:function(){return w(void 0)}},c.a.createElement(M.a,null,c.a.createElement(D.a,null,L&&L.title),c.a.createElement(Q.a,{onClick:function(){return w(void 0)}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement(z.a,null,c.a.createElement(G.a,{src:L&&L.url,alt:L&&L.title}))))},X=a(1),Y=a(90),Z=a(57),$=function(e){var t=e.post,a=Object(m.a)(e,["post"]),l=function(e){var t={postId:e?e.id:null},a=Object(E.useJson)("".concat(f,"/comments?").concat(b(t)),{},[]);return{comments:a.value,loading:a.loading,exception:a.exception}}(t).comments,r=Object(n.useState)(!1),o=Object(d.a)(r,2),u=o[0],s=o[1];return Object(n.useEffect)((function(){s(l.length>0)}),[l]),Object(n.useEffect)((function(){s(!1)}),[t]),c.a.createElement("section",a,c.a.createElement(Y.a,{className:"fade ".concat(u?"show":"")},l.map((function(e){return c.a.createElement(Z.a,{key:e.id},c.a.createElement("main",null,e.body),c.a.createElement("footer",null,"Commented by: ",c.a.createElement("a",{href:e.email},e.name," <",e.email,">")))}))))},ee=function(e){var t=Object(X.a)({},e),a=n.useContext(p),c=Object(u.m)().id,l=Object(n.useContext)(h),r=Object(n.useState)(),s=Object(d.a)(r,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){l&&m(l.find((function(e){return e.id===parseInt(c||"-1")})))}),[c,l]),i?(t.className=t.className||"",t.className+=" post",n.createElement(A.a,Object.assign({as:"article",style:{marginLeft:"15px"}},t),n.createElement(A.a.Header,{as:"header"},n.createElement(A.a.Title,null,i.title)),n.createElement(A.a.Body,{as:"main"},n.createElement(A.a.Text,null,i.body),n.createElement($,{post:i})),n.createElement(A.a.Footer,{as:"footer"},function(e,t){if(a){var n=a.find((function(t){return t.id===e}));return n?t(n):void 0}}(i.userId,(function(e){return n.createElement("header",null,"Authored by ",n.createElement(o.Link,{to:"/demo/users/".concat(e.id)},e.name))}))))):n.createElement(n.Fragment,null)},te=function(e){return c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement(y,null,c.a.createElement(x,null,c.a.createElement(w.a,Object.assign({fluid:!0},e),c.a.createElement(K.a,null,c.a.createElement("aside",{className:"col-md-1"},c.a.createElement(_.a,{variant:"pills",className:"flex-column"},c.a.createElement(s.LinkContainer,{to:"/demo/posts",activeClassName:"active"},c.a.createElement(o.Link,{className:"nav-link",to:"/demo/posts"},"Posts ")),c.a.createElement(s.LinkContainer,{to:"/demo/albums",activeClassName:"active"},c.a.createElement(o.Link,{className:"nav-link",to:"/demo/albums"},"Albums")),c.a.createElement(s.LinkContainer,{to:"/demo/users",activeClassName:"active"},c.a.createElement(o.Link,{className:"nav-link",to:"/demo/users"},"Users")))),c.a.createElement("section",{className:"col"},c.a.createElement(u.g,null,c.a.createElement(u.d,{path:"/demo/posts",exact:!0},c.a.createElement(T,{as:"main"})),c.a.createElement(u.d,{path:"/demo/posts/:id"},c.a.createElement(K.a,null,c.a.createElement(T,{as:"aside",className:"col-3"}),c.a.createElement(ee,{className:"col"}))),c.a.createElement(u.d,{path:"/demo/albums",exact:!0},c.a.createElement(U,null)),c.a.createElement(u.d,{path:"/demo/albums/:id"},c.a.createElement(V,null)),c.a.createElement(u.d,{path:"/demo/users"},c.a.createElement(H,null)),c.a.createElement(u.d,{path:"/demo"},c.a.createElement(u.c,{to:"/demo/posts"}))))))))))},ae=a(91),ne=a(59),ce=a(61),le=a(38),re=a(58);var oe=function(){return c.a.createElement(o.HashRouter,{basename:"/use-fetch"},c.a.createElement(ae.a,{expand:"sm",bg:"dark",variant:"dark",sticky:"top"},c.a.createElement(w.a,null,c.a.createElement(s.LinkContainer,{to:"/",exact:!0},c.a.createElement(re.a,{as:o.Link,to:"/"},"use-fetch")),c.a.createElement(ne.a,null),c.a.createElement(ce.a,null,c.a.createElement(_.a,null,c.a.createElement(s.LinkContainer,{exact:!0,to:"/",activeClassName:"active"},c.a.createElement(le.a,null,c.a.createElement(J.a,{as:o.Link,to:"/"},"Home"))),c.a.createElement(s.LinkContainer,{to:"/demo",activeClassName:"active"},c.a.createElement(le.a,null,c.a.createElement(J.a,{as:o.Link,to:"/demo"},"Demo"))),c.a.createElement(le.a,null,c.a.createElement(J.a,{href:"https://github.com/Eyal-Shalev/use-fetch"},"GitHub")))))),c.a.createElement(u.g,null,c.a.createElement(u.d,{path:"/demo"},c.a.createElement(te,null)),c.a.createElement(u.d,{path:"/"},c.a.createElement(I,null))))};a(188);r.a.render(c.a.createElement(oe,null),document.getElementById("root"))},29:function(e,t,a){"use strict";var n=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var c=a(0),l=function(e){function t(a){var n=e.call(this,""!==a.statusText?a.statusText:a.status.toString())||this;return n.response=a,n.name=t.name,Error.captureStackTrace(n,t),n}return n(t,e),t}(Error);t.ResponseError=l;var r=function(e){if(200!==e.status)throw new l(e);return e},o=function(e,t,a){void 0===t&&(t={}),void 0===a&&(a=[]);var n=c.useState(null),l=n[0],o=n[1],u=c.useState(!1),s=u[0],i=u[1],m=c.useState(null),d=m[0],E=m[1];return c.useEffect((function(){s||(i(!0),fetch(e,t).then(r).then(o).catch(E).finally((function(){return i(!1)})))}),[e,JSON.stringify(t)]),{response:l,loading:s,exception:d}};function u(e,t){return function(a,n,l){void 0===n&&(n={}),void 0===l&&(l=t);var r=o(a,n),u=r.response,s=r.exception,i=r.loading,m=c.useState(l),d=m[0],E=m[1],f=c.useState(s),b=f[0],p=f[1];return c.useEffect((function(){s&&p(s)}),[s]),c.useEffect((function(){u&&u[e]().then((function(e){E(e),p(null)})).catch(p)}),[u]),{value:d,loading:i,exception:b}}}t.useText=u("text",""),t.useJson=u("json",null),t.useBlob=u("blob",null),t.default=o},93:function(e,t,a){e.exports=a(189)},98:function(e,t,a){},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.051fb0a6.chunk.js.map