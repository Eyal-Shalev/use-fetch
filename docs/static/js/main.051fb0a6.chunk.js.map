{"version":3,"sources":["data.ts","About.js","Posts.tsx","Users.js","AlbumCard.tsx","Albums.js","Album.tsx","Comments.js","Post.tsx","Demo.js","App.js","index.js","../../lib/index.js"],"names":["baseUrl","queryString","query","Object","entries","filter","map","k","v","join","UsersContext","createContext","WithUsers","children","props","value","useJson","users","loading","exception","useUsers","React","Provider","PostsContext","WithPosts","user","userId","id","posts","usePosts","AlbumsContext","WithAlbums","albums","rest","useAlbums","usePhotos","album","limit","albumId","photos","PhotosContext","WithPhotos","About","readme","useText","ref","useRef","useEffect","current","Prism","highlightAllUnder","Container","source","Posts","as","Nav","key","className","variant","post","to","activeClassName","NavLink","Link","title","Users","useContext","CardColumns","Card","Header","Title","name","Subtitle","username","Body","style","display","address","JSON","stringify","phone","href","website","company","AlbumCard","cover","useState","undefined","author","setAuthor","find","length","CardImg","alt","src","thumbnailUrl","Albums","Album","useParams","activeAlbum","setActiveAlbum","parseInt","console","log","albumPhotos","setAlbumPhotos","paginationSize","setPaginationSize","useReducer","prev","page","slice","currentPage","setPage","Math","ceil","activePhoto","setActivePhoto","Row","Pagination","size","disabled","Array","from","i","PageItem","active","onClick","pageSize","photo","ImgOverlay","Modal","dialogClassName","show","onHide","ModalHeader","ModalTitle","CloseButton","aria-hidden","ModalBody","Image","url","Comments","comments","postId","useComments","setShow","ListGroup","comment","ListGroupItem","body","email","Post","activePost","setActivePost","marginLeft","Text","Footer","callback","withUser","Demo","fluid","path","exact","App","basename","process","Navbar","expand","bg","sticky","NavbarBrand","NavbarToggle","NavbarCollapse","NavItem","ReactDOM","render","document","getElementById","__extends","this","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","react_1","require","ResponseError","_super","response","_this","call","statusText","status","toString","Error","captureStackTrace","throwIfNotOk","useFetch","args","dependencies","_a","setResponse","_b","setLoading","_c","setException","fetch","then","catch","finally","make","init0","init","fetchException","setValue","x","useBlob","default"],"mappings":"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","file":"static/js/main.051fb0a6.chunk.js","sourcesContent":["import {useJson, useText} from \"@eyalsh/use-fetch\";\r\nimport * as React from \"react\";\r\nimport {createContext, ReactNode} from \"react\";\r\n\r\nexport const baseUrl = 'https://jsonplaceholder.typicode.com';\r\n\r\nconst queryString = (query: { [k: string]: any }) => Object.entries(query)\r\n  .filter(([k, v]) => v !== null)\r\n  .map(([k, v]) => `${k}=${v}`)\r\n  .join('&');\r\n\r\nexport type Address = {\r\n  street: string\r\n  suite: string\r\n  city: string\r\n  zipcode: string\r\n  geo: {\r\n    lat: number\r\n    lng: number\r\n  }\r\n}\r\n\r\nexport type Company = {\r\n  name: string\r\n  catchPhrase: string\r\n  bs: string\r\n}\r\n\r\nexport type User = {\r\n  id: number\r\n  name: string\r\n  username: string\r\n  address: Address\r\n  phone: string\r\n  website: string\r\n  company: Company\r\n}\r\n\r\nexport const UsersContext = createContext<User[]>([]);\r\nexport const useUsers = () => {\r\n  const {value: users, loading, exception} = useJson<User[]>(`${baseUrl}/users`, {}, []);\r\n\r\n  return {users, loading, exception}\r\n};\r\nexport const WithUsers = ({children, ...props}: { children?: ReactNode[] }) => {\r\n  const {users: value} = useUsers();\r\n\r\n  return React.createElement(UsersContext.Provider, {value, ...props}, children)\r\n};\r\n\r\nexport type Post = {\r\n  id: number\r\n  userId: number\r\n  title: string\r\n  body: string\r\n}\r\n\r\nexport const usePosts = (user?: User) => {\r\n  const query = {\r\n    userId: user ? user.id : null,\r\n  };\r\n  const {value: posts, loading, exception} = useJson<Post[]>(`${baseUrl}/posts?${queryString(query)}`, {}, []);\r\n\r\n  return {posts, loading, exception}\r\n};\r\nexport const PostsContext = createContext<Post[]>([]);\r\nexport const WithPosts = ({children, ...props}: { children?: ReactNode[] }) => {\r\n  const {posts: value} = usePosts();\r\n\r\n  return React.createElement(PostsContext.Provider, {value, ...props}, children)\r\n};\r\n\r\nexport type Comment = {\r\n  id: number\r\n  postId: number\r\n  name: string\r\n  email: string\r\n  body: string\r\n}\r\n\r\nexport const useComments = (post?: Post) => {\r\n  const query = {\r\n    postId: post ? post.id : null,\r\n  };\r\n  const {value: comments, loading, exception} = useJson<Comment[]>(`${baseUrl}/comments?${queryString(query)}`, {}, []);\r\n\r\n  return {comments, loading, exception};\r\n};\r\n\r\nexport const useReadme = () => useText('https://raw.githubusercontent.com/Eyal-Shalev/use-fetch/master/README.md');\r\n\r\nexport type Album = {\r\n  id: number\r\n  userId: number\r\n  title: string\r\n}\r\nexport const useAlbums = (user?: User) => {\r\n  const query = {\r\n    userId: user ? user.id : null,\r\n  };\r\n\r\n  const {value: albums, ...rest} = useJson<Album[]>(`${baseUrl}/albums?${queryString(query)}`, {}, []);\r\n\r\n  return {albums, ...rest};\r\n};\r\nexport const AlbumsContext = createContext<Album[]>([]);\r\nexport const WithAlbums = ({children, ...props}: { children?: ReactNode[] }) => {\r\n  const {albums: value} = useAlbums();\r\n  return React.createElement(AlbumsContext.Provider, {value, ...props}, children)\r\n};\r\n\r\nexport type Photo = {\r\n  id: number\r\n  albumId: number\r\n  title: string\r\n  url: string\r\n  thumbnailUrl: string\r\n}\r\nexport const usePhotos = (album?: Album, limit?: number) => {\r\n  const query = {\r\n    albumId: album ? album.id : null,\r\n    limit: (typeof limit === 'number') ? limit : null,\r\n  };\r\n  const {value: photos, ...rest} = useJson<Photo[]>(`${baseUrl}/photos?${queryString(query)}`, {}, []);\r\n\r\n  return {photos, ...rest}\r\n};\r\nexport const PhotosContext = createContext<Photo[]>([]);\r\nexport const WithPhotos = ({children, ...props}: { children?: ReactNode[] }) => {\r\n  const {photos: value} = usePhotos();\r\n  return React.createElement(PhotosContext.Provider, {value, ...props}, children)\r\n};\r\n","import React, {useEffect, useRef} from 'react';\r\nimport {useReadme} from \"./data\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport Prism from 'prismjs'\r\nimport 'prismjs/themes/prism-okaidia.css'\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nexport const About = () => {\r\n  const {value: readme} = useReadme();\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!ref.current) return;\r\n    Prism.highlightAllUnder(ref.current)\r\n  }, [readme, ref]);\r\n\r\n  return (\r\n    <Container>\r\n      <div ref={ref}>\r\n        <ReactMarkdown source={readme} />\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import * as React from 'react';\r\n\r\nimport {PostsContext} from \"./data\";\r\nimport {Link} from 'react-router-dom';\r\nimport {LinkContainer} from \"react-router-bootstrap\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavLink from \"react-bootstrap/NavLink\";\r\n\r\nexport const Posts = ({as, ...props}: { as: 'main' | 'aside', [k:string]: any }) => {\r\n  const posts = React.useContext(PostsContext);\r\n\r\n  props['className'] = props['className'] || '';\r\n  props['className'] += ' posts';\r\n\r\n  return React.createElement(as, props, [(\r\n    <Nav key='nav' className='flex-column' variant='pills'>\r\n      {posts.map(post => (\r\n        <LinkContainer key={post.id} to={`/demo/posts/${post.id}`} activeClassName='active'>\r\n          <NavLink as={Link} to={`/demo/posts/${post.id}`}>\r\n            {post.title}\r\n          </NavLink>\r\n        </LinkContainer>\r\n      ))}\r\n    </Nav>\r\n  )]);\r\n};\r\n","import React, {useContext} from \"react\";\r\nimport {UsersContext} from \"./data\";\r\nimport CardColumns from \"react-bootstrap/CardColumns\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nexport const Users = () => {\r\n  const users = useContext(UsersContext);\r\n  return (\r\n    <CardColumns>\r\n      {users.map(user => (\r\n        <Card key={user.id}>\r\n          <Card.Header as='header'>\r\n            <Card.Title>{user.name}</Card.Title>\r\n            <Card.Subtitle>{user.username}</Card.Subtitle>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <details style={{display: !user.address ? 'none' : 'block'}}>\r\n              <summary>Address</summary>\r\n              <address>\r\n                <pre>{JSON.stringify(user.address, null, '\\t')}</pre>\r\n              </address>\r\n            </details>\r\n            <div style={{display: !user.phone ? 'none' : 'block'}}>\r\n              <span>Phone:</span> <a href={`tel:${user.phone}`}>{user.phone}</a>\r\n            </div>\r\n            <div style={{display: !user.website ? 'none' : 'block'}}>\r\n              <span>Website:</span> <a href={user.website}>{user.website}</a>\r\n            </div>\r\n            <details style={{display: !user.company ? 'none' : 'block'}}>\r\n              <summary>Company</summary>\r\n              <pre>{JSON.stringify(user.company, null, '\\t')}</pre>\r\n            </details>\r\n          </Card.Body>\r\n        </Card>\r\n      ))}\r\n    </CardColumns>\r\n  )\r\n};\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport {Album as AlbumT, usePhotos, User, UsersContext} from \"./data\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport CardImg from \"react-bootstrap/CardImg\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const AlbumCard = ({album, ...props}: { album: AlbumT, [k: string]: any }) => {\r\n  const {photos: cover} = usePhotos(album, 1);\r\n\r\n  const users = useContext(UsersContext);\r\n  const [author, setAuthor] = useState<User | undefined>(undefined);\r\n  useEffect(() => {\r\n    setAuthor(users.find(({id}) => id === album.userId))\r\n  }, [users, album]);\r\n\r\n  return (\r\n    <Card as={Link} to={`/demo/albums/${album.id}`} {...props}>\r\n      <Card.Header>\r\n        <Card.Title>{album.title}</Card.Title>\r\n        <Card.Subtitle>\r\n          Created by {author ? author.name : ''}\r\n        </Card.Subtitle>\r\n      </Card.Header>\r\n      {cover.length > 0\r\n        ? <CardImg variant='bottom' alt={cover[0].title} src={cover[0].thumbnailUrl}/>\r\n        : ''}\r\n    </Card>\r\n  );\r\n};\r\n","import React, {useContext} from \"react\";\r\nimport {AlbumsContext} from \"./data\";\r\nimport CardColumns from \"react-bootstrap/CardColumns\";\r\nimport {AlbumCard} from \"./AlbumCard\";\r\n\r\nexport const Albums = (props) => {\r\n  const albums = useContext(AlbumsContext);\r\n  return (\r\n    <CardColumns {...props}>\r\n      {albums.map(album => (\r\n        <AlbumCard key={album.id} album={album} />\r\n      ))}\r\n    </CardColumns>\r\n  );\r\n};\r\n","import React, {Reducer, useContext, useEffect, useReducer, useState} from 'react';\r\nimport CardColumns from \"react-bootstrap/CardColumns\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {AlbumsContext, Photo, PhotosContext} from \"./data\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport CardImg from \"react-bootstrap/CardImg\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\nimport PageItem, {Next, Prev} from \"react-bootstrap/PageItem\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport ModalDialog from \"react-bootstrap/ModalDialog\";\r\nimport CloseButton from \"react-bootstrap/CloseButton\";\r\n\r\nexport const Album = (props: { [k: string]: any }) => {\r\n  const albums = useContext(AlbumsContext);\r\n  const {id} = useParams();\r\n  const [activeAlbum, setActiveAlbum] = useState();\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    if (albums.length === 0) return;\r\n    setActiveAlbum(albums.find(((album) => album.id === parseInt(id))))\r\n  }, [id, albums]);\r\n\r\n  console.log({activeAlbum, id});\r\n  const photos = useContext(PhotosContext);\r\n\r\n  const [albumPhotos, setAlbumPhotos] = useState<Photo[]>([]);\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    setAlbumPhotos(photos.filter(({albumId}) => albumId === parseInt(id)))\r\n  }, [id, photos]);\r\n\r\n  const pageSize = 20;\r\n  const [paginationSize, setPaginationSize] = useState(0);\r\n  type Page = {\r\n    photos: Photo[]\r\n    page: number\r\n  }\r\n  const [currentPage, setPage] = useReducer<Reducer<Page, number>>((prev, page) => {\r\n    return {page, photos: albumPhotos.slice(pageSize * page, pageSize * (page + 1))};\r\n  }, {photos: [], page: 0});\r\n\r\n  useEffect(() => {\r\n    setPage(0);\r\n    setPaginationSize(Math.ceil(albumPhotos.length / pageSize));\r\n  }, [albumPhotos]);\r\n\r\n  const [activePhoto, setActivePhoto] = useState<Photo | undefined>();\r\n\r\n  return <>\r\n    <Row as='nav' className='justify-content-center'>\r\n      <Pagination size='lg'>\r\n        <Prev disabled={currentPage.page === 0}/>\r\n        {paginationSize < 11 &&\r\n        Array.from({length: paginationSize}, (v, k) => k).map(i => (\r\n          <PageItem key={i} active={currentPage.page === i} onClick={() => setPage(i)}>{i + 1}</PageItem>\r\n        ))}\r\n\r\n        <Next disabled={currentPage.page === pageSize - 1}/>\r\n      </Pagination>\r\n    </Row>\r\n    <Row>\r\n      <CardColumns {...props} className={`fade ${albumPhotos.length > 0 ? 'show' : ''}`}>\r\n        {currentPage.photos.map(photo => (\r\n          <Card key={photo.id} onClick={() => setActivePhoto(photo)}>\r\n            <CardImg variant='top' src={photo.thumbnailUrl}/>\r\n            <Card.ImgOverlay>\r\n              <Card.Title>{photo.title}</Card.Title>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n        ))}\r\n      </CardColumns>\r\n    </Row>\r\n    <Modal dialogClassName='modal-fluid' show={!!activePhoto} onHide={() => setActivePhoto(undefined)}>\r\n      <ModalHeader>\r\n        <ModalTitle>{activePhoto && activePhoto.title}</ModalTitle>\r\n        <CloseButton onClick={() => setActivePhoto(undefined)}><span aria-hidden=\"true\">&times;</span></CloseButton>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n        <Image src={activePhoto && activePhoto.url} alt={activePhoto && activePhoto.title}/>\r\n      </ModalBody>\r\n    </Modal>\r\n  </>;\r\n};\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {useComments} from \"./data\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\";\r\n\r\nexport const Comments = ({post, ...props}) => {\r\n  const {comments} = useComments(post);\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setShow(comments.length > 0);\r\n  }, [comments]);\r\n\r\n  useEffect(() => {\r\n    setShow(false)\r\n  }, [post]);\r\n\r\n  return (\r\n    <section {...props}>\r\n      <ListGroup className={`fade ${show ? 'show' : ''}`}>\r\n        {comments.map((comment) => (\r\n          <ListGroupItem key={comment.id}>\r\n            <main>{comment.body}</main>\r\n            <footer>Commented by: <a href={comment.email}>{comment.name} &lt;{comment.email}&gt;</a></footer>\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n    </section>\r\n  );\r\n};\r\n","import * as React from 'react';\r\nimport {useContext, useEffect, useState} from 'react';\r\nimport {Comments} from './Comments';\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport {Post as PostT, PostsContext, User, UsersContext} from \"./data\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\n\r\nexport const Post = ({...props}: {[k:string]: any}) => {\r\n  const users = React.useContext(UsersContext);\r\n\r\n  const withUser = (userId: number, callback: (user: User) => any) => {\r\n    if (!users) return;\r\n    const user = users.find(({id}) => id === userId);\r\n    if (user) return callback(user)\r\n  };\r\n\r\n  const {id} = useParams();\r\n\r\n  const posts = useContext(PostsContext);\r\n\r\n  const [activePost, setActivePost] = useState<PostT>();\r\n  useEffect(() => {\r\n    if (!posts) return;\r\n    setActivePost(posts.find(post => post.id === parseInt(id || '-1')))\r\n  }, [id, posts]);\r\n\r\n  if (!activePost) {\r\n    return (<></>);\r\n  }\r\n\r\n  props['className'] = props['className'] || '';\r\n  props['className'] += ' post';\r\n\r\n  return (\r\n    <Card as='article' style={{marginLeft: '15px'}} {...props}>\r\n      <Card.Header as='header'><Card.Title>{activePost.title}</Card.Title></Card.Header>\r\n      <Card.Body as='main'>\r\n        <Card.Text>{activePost.body}</Card.Text>\r\n        <Comments post={activePost} />\r\n      </Card.Body>\r\n      <Card.Footer as='footer'>\r\n        {withUser(activePost.userId, (user: User) => (\r\n          <header>Authored by <Link to={`/demo/users/${user.id}`}>{user.name}</Link></header>\r\n        ))}\r\n      </Card.Footer>\r\n    </Card>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  Link,\r\n} from 'react-router-dom';\r\n\r\nimport {WithPosts, WithUsers, WithAlbums, WithPhotos} from \"./data\";\r\nimport {Posts} from \"./Posts\";\r\nimport {Users} from \"./Users\";\r\nimport {Albums} from \"./Albums\";\r\nimport {Album} from \"./Album\";\r\nimport {LinkContainer} from \"react-router-bootstrap\";\r\nimport {Post} from \"./Post\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nexport const Demo = (props) => {\r\n  return <WithUsers><WithPosts><WithAlbums><WithPhotos>\r\n    <Container fluid={true} {...props}>\r\n      <Row>\r\n        <aside className='col-md-1'>\r\n          <Nav variant='pills' className='flex-column'>\r\n            <LinkContainer to='/demo/posts' activeClassName='active'>\r\n              <Link className=\"nav-link\" to='/demo/posts'>Posts </Link>\r\n            </LinkContainer>\r\n            <LinkContainer to='/demo/albums' activeClassName='active'>\r\n              <Link className=\"nav-link\" to=\"/demo/albums\">Albums</Link>\r\n            </LinkContainer>\r\n            <LinkContainer to='/demo/users' activeClassName='active'>\r\n              <Link className=\"nav-link\" to=\"/demo/users\">Users</Link>\r\n            </LinkContainer>\r\n          </Nav>\r\n        </aside>\r\n        <section className='col'>\r\n          <Switch>\r\n            <Route path='/demo/posts' exact={true}>\r\n              <Posts as='main'/>\r\n            </Route>\r\n            <Route path='/demo/posts/:id'>\r\n              <Row>\r\n                <Posts as='aside' className='col-3'/>\r\n                <Post className='col'/>\r\n              </Row>\r\n            </Route>\r\n            <Route path='/demo/albums' exact={true}>\r\n              <Albums/>\r\n            </Route>\r\n            <Route path='/demo/albums/:id'>\r\n              <Album/>\r\n            </Route>\r\n            <Route path='/demo/users'>\r\n              <Users/>\r\n            </Route>\r\n            <Route path='/demo'>\r\n              <Redirect to=\"/demo/posts\"/>\r\n            </Route>\r\n          </Switch>\r\n        </section>\r\n      </Row>\r\n    </Container>\r\n  </WithPhotos></WithAlbums></WithPosts></WithUsers>;\r\n};\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n} from 'react-router-dom';\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport {About} from \"./About\";\r\nimport {Demo} from \"./Demo\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavbarToggle from \"react-bootstrap/NavbarToggle\";\r\nimport NavbarCollapse from \"react-bootstrap/NavbarCollapse\";\r\nimport NavItem from \"react-bootstrap/NavItem\";\r\nimport NavLink from \"react-bootstrap/NavLink\";\r\nimport NavbarBrand from \"react-bootstrap/NavbarBrand\";\r\n// className='navbar navbar-collapse'\r\nfunction App() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Navbar expand='sm' bg='dark' variant='dark' sticky='top'>\r\n        <Container>\r\n          <LinkContainer to='/' exact={true}>\r\n            <NavbarBrand as={Link} to='/'>use-fetch</NavbarBrand>\r\n          </LinkContainer>\r\n          <NavbarToggle />\r\n          <NavbarCollapse>\r\n            <Nav>\r\n              <LinkContainer exact={true} to='/' activeClassName='active'>\r\n                <NavItem>\r\n                  <NavLink as={Link} to='/'>Home</NavLink>\r\n                </NavItem>\r\n              </LinkContainer>\r\n              <LinkContainer to='/demo' activeClassName='active'>\r\n                <NavItem>\r\n                  <NavLink as={Link} to='/demo'>Demo</NavLink>\r\n                </NavItem>\r\n              </LinkContainer>\r\n              <NavItem>\r\n                <NavLink href='https://github.com/Eyal-Shalev/use-fetch'>GitHub</NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n          </NavbarCollapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Switch>\r\n        <Route path='/demo'>\r\n          <Demo />\r\n        </Route>\r\n        <Route path='/'>\r\n          <About />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport './custom-bootstrap.scss'\n\nReactDOM.render(<App />, document.getElementById('root'));\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar ResponseError = (function (_super) {\r\n    __extends(ResponseError, _super);\r\n    function ResponseError(response) {\r\n        var _this = _super.call(this, response.statusText !== '' ? response.statusText : response.status.toString()) || this;\r\n        _this.response = response;\r\n        _this.name = ResponseError.name;\r\n        Error.captureStackTrace(_this, ResponseError);\r\n        return _this;\r\n    }\r\n    return ResponseError;\r\n}(Error));\r\nexports.ResponseError = ResponseError;\r\nvar throwIfNotOk = function (response) {\r\n    if (response.status !== 200) {\r\n        throw new ResponseError(response);\r\n    }\r\n    return response;\r\n};\r\nvar useFetch = function (url, args, dependencies) {\r\n    if (args === void 0) { args = {}; }\r\n    if (dependencies === void 0) { dependencies = []; }\r\n    var _a = react_1.useState(null), response = _a[0], setResponse = _a[1];\r\n    var _b = react_1.useState(false), loading = _b[0], setLoading = _b[1];\r\n    var _c = react_1.useState(null), exception = _c[0], setException = _c[1];\r\n    react_1.useEffect(function () {\r\n        if (loading)\r\n            return;\r\n        setLoading(true);\r\n        fetch(url, args)\r\n            .then(throwIfNotOk)\r\n            .then(setResponse)\r\n            .catch(setException)\r\n            .finally(function () { return setLoading(false); });\r\n    }, [url, JSON.stringify(args)]);\r\n    return { response: response, loading: loading, exception: exception };\r\n};\r\nfunction make(k, init0) {\r\n    return function (url, args, init) {\r\n        if (args === void 0) { args = {}; }\r\n        if (init === void 0) { init = init0; }\r\n        var _a = useFetch(url, args), response = _a.response, fetchException = _a.exception, loading = _a.loading;\r\n        var _b = react_1.useState(init), value = _b[0], setValue = _b[1];\r\n        var _c = react_1.useState(fetchException), exception = _c[0], setException = _c[1];\r\n        react_1.useEffect(function () { !!fetchException && setException(fetchException); }, [fetchException]);\r\n        react_1.useEffect(function () {\r\n            if (!response)\r\n                return;\r\n            response[k]().then(function (x) {\r\n                setValue(x);\r\n                setException(null);\r\n            }).catch(setException);\r\n        }, [response]);\r\n        return { value: value, loading: loading, exception: exception };\r\n    };\r\n}\r\nexports.useText = make('text', '');\r\nexports.useJson = make('json', null);\r\nexports.useBlob = make('blob', null);\r\nexports.default = useFetch;\r\n"],"sourceRoot":""}