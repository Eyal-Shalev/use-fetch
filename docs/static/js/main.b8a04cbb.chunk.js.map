{"version":3,"sources":["logo.svg","About.js","../../index.js","Post.js","Demo.js","App.js","index.js"],"names":["module","exports","About","useFetch","input","init","inputs","controller","AbortController","useState","response","setResponse","loading","setLoading","exception","setException","map","k","initial","result","setResult","useEffect","then","catch","e","console","log","useJson","useText","useBlob","hasOwnProperty","signal","addEventListener","abort","fetch","resp","finally","Post","baseUrl","post","comments","useComments","id","json","title","body","comment","key","name","email","Demo","posts","usePosts","App","basename","process","className","to","src","logo","alt","width","height","exact","activeClassName","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8a04cbb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\n\r\nexport const About = () => {\r\n  return (\r\n    <main>Hello from about</main>\r\n  );\r\n};\r\n","import {useState, useEffect} from 'react';\r\n\r\n/**\r\n *\r\n * @param input\r\n * @param init\r\n * @param inputs If present, fetch will only activate if the values in the list change.\r\n * @returns {{controller: AbortController, response: Response, error: *}}\r\n */\r\nexport const useFetch = (input, init, inputs) => {\r\n  const controller = new AbortController();\r\n  const [response, setResponse] = useState();\r\n  const [loading, setLoading]  = useState(false);\r\n  const [exception, setException] = useState();\r\n  const [useJson, useText, useBlob] = ['json', 'text', 'blob'].map(k => (\r\n    (initial) => {\r\n      const [result, setResult] = useState(initial);\r\n      const [exception, setException] = useState();\r\n      useEffect(() => {\r\n        if (!response) return;\r\n        response[k]().then(setResult).catch(e => {console.log(e); setException(e)})\r\n      }, [response]);\r\n      return {[k]: result, exception};\r\n    }\r\n  ));\r\n\r\n  useEffect(() => {\r\n    init = init || {};\r\n\r\n    if (init.hasOwnProperty('signal')) {\r\n      init.signal.addEventListener('abort', () => {\r\n        controller.abort()\r\n      })\r\n    }\r\n    init.signal = controller.signal;\r\n\r\n    setLoading(true);\r\n    fetch(input, init)\r\n      .then(resp => {\r\n        setResponse(resp);\r\n      })\r\n      .catch(setException)\r\n      .finally(() => setLoading(false));\r\n  }, inputs);\r\n\r\n  return {response, loading, exception, controller, useJson, useText, useBlob}\r\n};\r\n","import React from 'react';\r\nimport {useFetch} from \"use-fetch\";\r\n\r\nexport const Post = ({baseUrl, post}) => {\r\n  const {useJson: useComments} = useFetch(`${baseUrl}/posts/${post.id}/comments`, {}, []);\r\n  const {json: comments} = useComments([]);\r\n\r\n  return (\r\n    <details>\r\n      <summary>{post.title}</summary>\r\n      <main>{post.body}</main>\r\n      <footer>\r\n        <ul>\r\n          {comments.map((comment => (\r\n            <li key={comment.id}>\r\n              <main>{comment.body}</main>\r\n              <footer>{comment.name} &lt;{comment.email}&gt;</footer>\r\n            </li>\r\n          )))}\r\n        </ul>\r\n      </footer>\r\n    </details>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {useFetch} from \"use-fetch\";\r\nimport {Post} from \"./Post\";\r\n\r\nconst baseUrl = 'https://jsonplaceholder.typicode.com';\r\n\r\nexport const Demo = () => {\r\n  const {useJson: usePosts} = useFetch(`${baseUrl}/posts`, {}, []);\r\n  const {json: posts} = usePosts([]);\r\n\r\n  return (\r\n    <div>\r\n      <header><h2>Demo</h2></header>\r\n      <main>\r\n        <section>\r\n          <header><h3>Posts</h3></header>\r\n          <main>\r\n            <ul>\r\n              {posts.map(post => (\r\n                <li key={post.id}>\r\n                  <Post baseUrl={baseUrl} post={post}/>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </main>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n} from 'react-router-dom';\nimport {LinkContainer} from 'react-router-bootstrap'\nimport {About} from \"./About\";\nimport {Demo} from \"./Demo\";\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"\">\n        <header className='navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar'>\n          <Link className='navbar-brand mr-0 mr-md-2' to='/'>\n            <img src={logo} alt='logo' width={36} height={36}/>\n          </Link>\n          <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n            <LinkContainer className=\"nav-item\" exact={true} to='/' activeClassName='active'>\n              <Link className=\"nav-link\" to='/'>Home </Link>\n            </LinkContainer>\n            <LinkContainer className=\"nav-item\" exact={true} to='/demo' activeClassName='active'>\n              <Link className=\"nav-link\" to=\"/demo\">Demo</Link>\n            </LinkContainer>\n          </ul>\n        </header>\n      </div>\n      <section className='container'>\n        <Switch>\n          <Route path='/demo'>\n            <Demo />\n          </Route>\n          <Route path='/'>\n            <About />\n          </Route>\n        </Switch>\n      </section>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import { BrowserRouter as Router} from 'react-router-dom';\n\n// ReactDOM.render(<Router basename={process.env.PUBLIC_URL}>< App /></Router>, document.getElementById('root'));\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}