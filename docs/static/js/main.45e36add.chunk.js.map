{"version":3,"sources":["About.js","App.tsx","index.js","../../lib/index.js"],"names":["About","readme","useText","value","ref","useRef","useEffect","current","Prism","highlightAllUnder","Container","source","App","Navbar","as","expand","bg","variant","sticky","NavbarBrand","href","NavbarToggle","NavbarCollapse","Nav","NavItem","NavLink","active","ReactDOM","render","document","getElementById","__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","react_1","require","ResponseError","_super","response","_this","call","statusText","status","toString","name","Error","captureStackTrace","throwIfNotOk","useFetch","url","args","dependencies","_a","useState","setResponse","_b","loading","setLoading","_c","exception","setException","fetch","then","catch","finally","JSON","stringify","make","k","init0","init","fetchException","setValue","x","useJson","useBlob","default"],"mappings":"mOAOaA,EAAQ,WAAO,IACZC,EAAUC,kBAAQ,4EAAzBC,MACDC,EAAMC,mBAOZ,OALAC,qBAAU,WACHF,EAAIG,SACTC,IAAMC,kBAAkBL,EAAIG,WAC3B,CAACN,EAAQG,IAGV,kBAACM,EAAA,EAAD,KACE,yBAAKN,IAAKA,GACR,kBAAC,IAAD,CAAeO,OAAQV,O,wDCchBW,EAtBH,kBAAM,oCAChB,kBAACC,EAAA,EAAD,CAAQC,GAAG,SAASC,OAAO,KAAKC,GAAG,OAAOC,QAAQ,OAAOC,OAAO,OAC9D,kBAACR,EAAA,EAAD,KACE,kBAACS,EAAA,EAAD,CAAaC,KAAK,KAAlB,aACA,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAASL,KAAK,IAAIM,QAAQ,GAA1B,kBAEF,kBAACF,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAASL,KAAK,4CAAd,eAMV,kBAACV,EAAA,EAAD,CAAWI,GAAG,QACZ,kBAAC,EAAD,S,OCvBJa,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,gCCLjD,IAAIC,EAAaC,MAAQA,KAAKD,WAAe,WACzC,IAAIE,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOV,KAAKW,YAAcT,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,IAAMO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,IAV1C,GAa7CN,OAAOU,eAAeC,EAAS,aAAc,CAAE5C,OAAO,IACtD,IAAI6C,EAAUC,EAAQ,GAClBC,EAAiB,SAAUC,GAE3B,SAASD,EAAcE,GACnB,IAAIC,EAAQF,EAAOG,KAAKtB,KAA8B,KAAxBoB,EAASG,WAAoBH,EAASG,WAAaH,EAASI,OAAOC,aAAezB,KAIhH,OAHAqB,EAAMD,SAAWA,EACjBC,EAAMK,KAAOR,EAAcQ,KAC3BC,MAAMC,kBAAkBP,EAAOH,GACxBG,EAEX,OARAtB,EAAUmB,EAAeC,GAQlBD,EATU,CAUnBS,OACFZ,EAAQG,cAAgBA,EACxB,IAAIW,EAAe,SAAUT,GACzB,GAAwB,MAApBA,EAASI,OACT,MAAM,IAAIN,EAAcE,GAE5B,OAAOA,GAEPU,EAAW,SAAUC,EAAKC,EAAMC,QACnB,IAATD,IAAmBA,EAAO,SACT,IAAjBC,IAA2BA,EAAe,IAC9C,IAAIC,EAAKlB,EAAQmB,SAAS,MAAOf,EAAWc,EAAG,GAAIE,EAAcF,EAAG,GAChEG,EAAKrB,EAAQmB,UAAS,GAAQG,EAAUD,EAAG,GAAIE,EAAaF,EAAG,GAC/DG,EAAKxB,EAAQmB,SAAS,MAAOM,EAAYD,EAAG,GAAIE,EAAeF,EAAG,GAWtE,OAVAxB,EAAQ1C,WAAU,WACVgE,IAEJC,GAAW,GACXI,MAAMZ,EAAKC,GACNY,KAAKf,GACLe,KAAKR,GACLS,MAAMH,GACNI,SAAQ,WAAc,OAAOP,GAAW,SAC9C,CAACR,EAAKgB,KAAKC,UAAUhB,KACjB,CAAEZ,SAAUA,EAAUkB,QAASA,EAASG,UAAWA,IAE9D,SAASQ,EAAKC,EAAGC,GACb,OAAO,SAAUpB,EAAKC,EAAMoB,QACX,IAATpB,IAAmBA,EAAO,SACjB,IAAToB,IAAmBA,EAAOD,GAC9B,IAAIjB,EAAKJ,EAASC,EAAKC,GAAOZ,EAAWc,EAAGd,SAAUiC,EAAiBnB,EAAGO,UAAWH,EAAUJ,EAAGI,QAC9FD,EAAKrB,EAAQmB,SAASiB,GAAOjF,EAAQkE,EAAG,GAAIiB,EAAWjB,EAAG,GAC1DG,EAAKxB,EAAQmB,SAASkB,GAAiBZ,EAAYD,EAAG,GAAIE,EAAeF,EAAG,GAUhF,OATAxB,EAAQ1C,WAAU,WAAgB+E,GAAkBX,EAAaW,KAAoB,CAACA,IACtFrC,EAAQ1C,WAAU,WACT8C,GAELA,EAAS8B,KAAKN,MAAK,SAAUW,GACzBD,EAASC,GACTb,EAAa,SACdG,MAAMH,KACV,CAACtB,IACG,CAAEjD,MAAOA,EAAOmE,QAASA,EAASG,UAAWA,IAG5D1B,EAAQ7C,QAAU+E,EAAK,OAAQ,IAC/BlC,EAAQyC,QAAUP,EAAK,OAAQ,MAC/BlC,EAAQ0C,QAAUR,EAAK,OAAQ,MAC/BlC,EAAQ2C,QAAU5B,G","file":"static/js/main.45e36add.chunk.js","sourcesContent":["import React, {useEffect, useRef} from 'react';\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport Prism from 'prismjs'\r\nimport 'prismjs/themes/prism-okaidia.css'\r\nimport Container from \"react-bootstrap/Container\";\r\nimport {useText} from \"@eyalsh/use-fetch\";\r\n\r\nexport const About = () => {\r\n  const {value: readme} = useText('https://raw.githubusercontent.com/Eyal-Shalev/use-fetch/master/README.md');\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!ref.current) return;\r\n    Prism.highlightAllUnder(ref.current)\r\n  }, [readme, ref]);\r\n\r\n  return (\r\n    <Container>\r\n      <div ref={ref}>\r\n        <ReactMarkdown source={readme} />\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {About} from \"./About\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavbarToggle from \"react-bootstrap/NavbarToggle\";\r\nimport NavbarCollapse from \"react-bootstrap/NavbarCollapse\";\r\nimport NavItem from \"react-bootstrap/NavItem\";\r\nimport NavLink from \"react-bootstrap/NavLink\";\r\nimport NavbarBrand from \"react-bootstrap/NavbarBrand\";\r\n\r\nconst App = () => <>\r\n  <Navbar as='header' expand='sm' bg='dark' variant='dark' sticky='top'>\r\n    <Container>\r\n      <NavbarBrand href='/'>use-fetch</NavbarBrand>\r\n      <NavbarToggle />\r\n      <NavbarCollapse>\r\n        <Nav>\r\n          <NavItem>\r\n            <NavLink href='/' active={true}>Documentation</NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink href='https://github.com/Eyal-Shalev/use-fetch'>GitHub</NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n      </NavbarCollapse>\r\n    </Container>\r\n  </Navbar>\r\n  <Container as='main'>\r\n    <About/>\r\n  </Container>\r\n</>;\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport './custom-bootstrap.scss'\n\nReactDOM.render(<App />, document.getElementById('root'));\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar ResponseError = (function (_super) {\r\n    __extends(ResponseError, _super);\r\n    function ResponseError(response) {\r\n        var _this = _super.call(this, response.statusText !== '' ? response.statusText : response.status.toString()) || this;\r\n        _this.response = response;\r\n        _this.name = ResponseError.name;\r\n        Error.captureStackTrace(_this, ResponseError);\r\n        return _this;\r\n    }\r\n    return ResponseError;\r\n}(Error));\r\nexports.ResponseError = ResponseError;\r\nvar throwIfNotOk = function (response) {\r\n    if (response.status !== 200) {\r\n        throw new ResponseError(response);\r\n    }\r\n    return response;\r\n};\r\nvar useFetch = function (url, args, dependencies) {\r\n    if (args === void 0) { args = {}; }\r\n    if (dependencies === void 0) { dependencies = []; }\r\n    var _a = react_1.useState(null), response = _a[0], setResponse = _a[1];\r\n    var _b = react_1.useState(false), loading = _b[0], setLoading = _b[1];\r\n    var _c = react_1.useState(null), exception = _c[0], setException = _c[1];\r\n    react_1.useEffect(function () {\r\n        if (loading)\r\n            return;\r\n        setLoading(true);\r\n        fetch(url, args)\r\n            .then(throwIfNotOk)\r\n            .then(setResponse)\r\n            .catch(setException)\r\n            .finally(function () { return setLoading(false); });\r\n    }, [url, JSON.stringify(args)]);\r\n    return { response: response, loading: loading, exception: exception };\r\n};\r\nfunction make(k, init0) {\r\n    return function (url, args, init) {\r\n        if (args === void 0) { args = {}; }\r\n        if (init === void 0) { init = init0; }\r\n        var _a = useFetch(url, args), response = _a.response, fetchException = _a.exception, loading = _a.loading;\r\n        var _b = react_1.useState(init), value = _b[0], setValue = _b[1];\r\n        var _c = react_1.useState(fetchException), exception = _c[0], setException = _c[1];\r\n        react_1.useEffect(function () { !!fetchException && setException(fetchException); }, [fetchException]);\r\n        react_1.useEffect(function () {\r\n            if (!response)\r\n                return;\r\n            response[k]().then(function (x) {\r\n                setValue(x);\r\n                setException(null);\r\n            }).catch(setException);\r\n        }, [response]);\r\n        return { value: value, loading: loading, exception: exception };\r\n    };\r\n}\r\nexports.useText = make('text', '');\r\nexports.useJson = make('json', null);\r\nexports.useBlob = make('blob', null);\r\nexports.default = useFetch;\r\n"],"sourceRoot":""}